{{ define "nav" }}
<nav>
    <!-- <link rel="stylesheet" href="/static/css/nav.css" /> -->
    <link rel="stylesheet" href="/static/css/all.min.css" />
    <link rel="stylesheet" href="/static/css/all.css" />

    <h1 id="title">Open Mart</h1>

    {{ range .categories }} {{ if not .ParentID.Valid }}
    <a href="/{{ .Slug }}" class="nav-icon" title="{{ .Name }}">
        <i class="{{ .LogoClass }}"></i>
    </a>
    {{ end }} {{ end }}

    <div class="auth-section">
        {{ if .user }}
        <div class="user-dropdown" id="userDropdown">
            <button type="button" class="user-trigger" id="userDropdownBtn" aria-haspopup="true" aria-expanded="false">
                {{ .user.Username }}
                <i id="menu-arrow" class="fa-solid fa-chevron-down"></i>
            </button>

            <div class="dropdown-menu" id="userDropdownMenu">
                <a href="/profile">
                    <i class="fa-solid fa-user"></i>
                    Profile
                </a>

                <form method="POST" action="/auth/logout">
                    <button type="submit">
                        <i class="fa-solid fa-right-from-bracket"></i>
                        Logout
                    </button>
                </form>
            </div>
        </div>
        {{ else }}
        <a href="/auth/google" class="google-login-btn">
            <i class="fa-brands fa-google"></i>
            <span>Sign in with Google</span>
        </a>
        {{ end }}
    </div>
    </div>
</nav>
{{ end }}
